<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Player de Vídeo Local</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <video id="videoPlayer" class="video-player" controls autoplay >
    <source id="videoSource" src="videos/videoteste0.mp4" type="video/mp4">
  </video>

  <script>
    // Lista de vídeos
    const videoPlaylist = [
      'videos/videoteste0.mp4',
      'videos/SOS-PICOS.mp4',
      'videos/CHAMADA-GE-2024.mp4',
      'videos/CHAMADA-G-12024.mp4',
      'videos/60-REDE-CLUBE.mp4',
    ];

    let currentVideoIndex = 0; // Índice do vídeo atual
    const videoPlayer = document.getElementById('videoPlayer'); // Referência ao player de vídeo
    const videoSource = document.getElementById('videoSource'); // Referência ao elemento <source>

    // MESMO FORCANDO O FULLSCREEN AUTO OS NAVEGADORES AINDA EXIGEM ITERCAO COM O USUARIO
    function enterFullscreen() {
      if (videoPlayer.requestFullscreen) {
        videoPlayer.requestFullscreen(); // Padrão para a maioria dos navegadores
      } else if (videoPlayer.msRequestFullscreen) {
        videoPlayer.msRequestFullscreen(); // Internet Explorer / Edge
      }
    }

     // Inicia automaticamente o fullscreen quando o vídeo começa a reproduzir
     videoPlayer.addEventListener('play', () => {
      enterFullscreen();
    });
    
    // Opcional: Força o fullscreen no carregamento da página
    window.addEventListener('load', () => {
      videoPlayer.play(); // Garante que o vídeo será reproduzido
      enterFullscreen(); // Tenta entrar em fullscreen logo no carregamento
    });

    // Evento que detecta quando o vídeo termina
    videoPlayer.addEventListener('ended', () => {
      
        if (currentVideoIndex < videoPlaylist.length) {
          currentVideoIndex++; // Avança para o próximo vídeo
          if(currentVideoIndex >= videoPlaylist.length){
            currentVideoIndex = 0;
          }
          // Atualiza a fonte do vídeo
          videoSource.src = videoPlaylist[currentVideoIndex];
          videoPlayer.load(); // Carrega o novo vídeo
          videoPlayer.play(); // Começa a reprodução automaticamente
          
        } else {
          console.log('Fim da playlist.');
        }
      
    });

    </script>
</body>
</html>
